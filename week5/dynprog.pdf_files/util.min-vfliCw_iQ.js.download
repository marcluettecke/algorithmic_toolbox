define(["require","exports","tslib","react","modules/clean/auth/login_or_register/types","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/logging","modules/clean/react/file_viewer/utils","modules/clean/react/share_download/models","modules/clean/react/title_bar/overflow_menu","modules/clean/share_download/types","modules/clean/viewer","modules/clean/react/file_viewer/conversions/conversion_utils"],(function(e,o,n,t,i,l,r,a,s,u,c,d,p){"use strict";function f(e,o,n,t,l,r){var a=e.canDownloadRoles,u=e.canCopyToDropboxRoles,f=s.ShareDownloadActionOption.buildDirectOption,m=s.ShareDownloadActionOption.buildToDropboxOption,w=[];if(c.isPendingEntry(t))return w;if(a.length>0&&w.push(f(o,p.shouldShowPostDownloadModal()&&!r?i.LoginOrRegisterKind.POSTDOWNLOAD:l)),u.length>0){var _=d.Viewer.get_viewer(),g=_.get_users(!0),v=function(e,o){var i=-1===u.indexOf(o);w.push(m(n,t,_,e,o,i))};g.forEach((function(e){v(e,e.role)})),u.indexOf("anonymous")>-1&&v(void 0,"anonymous")}return w}function m(e,o,n,t){return function(i){n&&n(),e.handler&&e.handler(),r.logUserAction(e.userAction,a.getSplitButtonUserActionContext(o,t))}}Object.defineProperty(o,"__esModule",{value:!0}),t=n.__importDefault(t),o.getDownloadOptions=f,o.callOptionHandler=m,o.getDownloadOptionsAsPopoverOrMobileItems=function(e,o,n,i){return f(e,o,n,i,null).map((function(e){return t.default.createElement(u.PopoverOrMobileItem,{key:e.userAction,disabled:e.isDisabled,onSelect:m(e,l.SplitButtonActionLocation.Split)},e.text)}))}}));
//# sourceMappingURL=util.min.js-vflmUJPjY.map